{% extends 'admin/base.html.twig' %}

{% block title %}{{ parent() }} | Dashboard{% endblock %}

{% block content %}
  <h1 class="d-none">Dashboard</h1>

  <div class="card bg-light">
    <div class="card-header">
      <h2 class="h6 mb-0 d-inline">Articles</h2>
      <a class="btn btn-primary float-right" href="{{ path('admin_media') }}">
        <i class="material-icons align-middle mr-1">add</i>
        Ajouter un article
      </a>
    </div>

    <div class="card-body">
      <table class="table mb-0">
        <thead class="thead-dark">
          <tr>
            <th scope="col" class="text-right">#</th>
            <th scope="col">Title</th>
            <th scope="col">Desc</th>
            <th scope="col"></th>
          </tr>
        </thead>

        <tbody>
          {% for media in medias %}
            <tr>
              <th class="align-middle text-muted text-right" scope="row">{{media.id}}</th>
              <td class="align-middle font-weight-bold">
                <a class="text-reset" href="{{ path('admin_media', {'id': media.id}) }}">
                  {{media.name}}
                </a>
              </td>
              <td class="align-middle text-muted small">{{media.legend|striptags[:20] ~ '...'}}</td>
              <td class="align-middle text-right">
                <a class="btn btn-outline-primary btn-sm" href="{{ path('admin_media', {'id': media.id}) }}">edit</a>
                <button
                  class="btn btn-outline-danger btn-sm"
                  data-toggle="popover"
                  data-content="<a href='#' class='btn btn-sm btn-outline-secondary mr-2'>Cancel</a><a class='btn btn-sm btn-danger' href='{{ path('admin_delete_media', {'id': media.id}) }}'>Delete</a>"
                  data-html="true"
                  tabindex="0"
                  data-trigger="focus"
                >delete</button>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}
